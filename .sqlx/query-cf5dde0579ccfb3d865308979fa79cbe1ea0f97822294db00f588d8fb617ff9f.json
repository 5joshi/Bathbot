{
  "db_name": "PostgreSQL",
  "query": "\nWITH stats AS (\n  SELECT \n    global_rank, \n    pp, \n    last_update \n  FROM \n    osu_user_mode_stats \n  WHERE \n    gamemode = $1 \n    AND global_rank > 0 \n    AND NOW() - last_update < interval '2 days'\n) \nSELECT \n  * \nFROM \n  (\n    (\n      SELECT \n        global_rank, \n        pp, \n        0::INT2 AS pos \n      FROM \n        (\n          SELECT \n            * \n          FROM \n            stats \n          WHERE \n            pp >= $2 \n          ORDER BY \n            pp ASC \n          LIMIT \n            5\n        ) AS innerTable \n      ORDER BY \n        last_update DESC \n      LIMIT \n        1\n    ) \n    UNION ALL \n      (\n        SELECT \n          global_rank, \n          pp, \n          1::INT2 AS pos \n        FROM \n          (\n            SELECT \n              * \n            FROM \n              stats \n            WHERE \n              pp <= $2 \n            ORDER BY \n              pp DESC \n            LIMIT \n              5\n          ) AS innerTable \n        ORDER BY \n          last_update DESC \n        LIMIT \n          1\n      )\n  ) AS neighbors",
  "describe": {
    "columns": [
      {
        "ordinal": 0,
        "name": "global_rank",
        "type_info": "Int4"
      },
      {
        "ordinal": 1,
        "name": "pp",
        "type_info": "Float4"
      },
      {
        "ordinal": 2,
        "name": "pos",
        "type_info": "Int2"
      }
    ],
    "parameters": {
      "Left": [
        "Int2",
        "Float4"
      ]
    },
    "nullable": [
      null,
      null,
      null
    ]
  },
  "hash": "cf5dde0579ccfb3d865308979fa79cbe1ea0f97822294db00f588d8fb617ff9f"
}
